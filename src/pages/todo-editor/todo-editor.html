<!--
  Generated template for the TodoEditorPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>編集</ion-title>
    <ion-buttons end>
      <button ion-button [disabled]="!todo.task" (click)="done()">OK</button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-list>
    <ion-item>
      <ion-label stacked>TODO</ion-label>
      <ion-input type="text" [(ngModel)]="todo.task"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label stacked>Limit</ion-label>
      <ion-datetime displayFormat="YYYY/MM/DD"
       [min]="minLimit" [max]="maxLimit"
       [ngModel]="todo.limit" (ngModelChange)="onChangeOfLimit($event)"></ion-datetime>
    </ion-item>
    <ion-item no-lines radio-group [ngModel]="todo.state.name" (ngModelChange)="onChangeOfState($event)">
      <ion-label stacked>State</ion-label>
      <ion-item *ngFor="let state of todoManager.statusList"
       item-content color="{{state.color}}">
        <ion-label>{{state.name}}</ion-label>
        <ion-radio [disabled]="isDisabledToState(state)" value="{{state.name}}"></ion-radio>
      </ion-item>
    </ion-item>
    <ion-item>
      <ion-label stacked>Memo</ion-label>
      <ion-textarea [attr.rows]="getLines(todo.memo) + 1"
      (input)="adjust($event)" [(ngModel)]="todo.memo"></ion-textarea>
    </ion-item>
  </ion-list>
</ion-content>
